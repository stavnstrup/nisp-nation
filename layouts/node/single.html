{{ define "main" }}

<h3>Reference document</h3>

<dl>
  <dt class="data-label">Title</dt>
  <dd class="data-value">{{ .Title }}</dd>
</dl>

<dl>
  <dt class="data-label">Description</dt>
  <dd class="data-value">{{ markdownify (replace .Params.description "&#xA;" "\n\n" ) }}</dd>
</dl>

{{ if ge .Params.consumers.size  0 }}
<h3>Relationships</h3>
<p>Service profiles which uses this standard.</p>
<ul>
{{ range .Params.consumers }} {{/* The consumer array contains Service Profile ids for those service profiles, 
                                    which references the node */}}
  {{ $spId := .  }}
  {{ range where .Site.Pages .Params.nispid $spId }}
    {{  $sp := . }}
    <li><a href="/serviceprofile/{{ $spId }}.html">{{ $sp.title }}</a></li>
  {{ end }}
{{ end }}
</ul>
{{ end }}

{{ end }}
